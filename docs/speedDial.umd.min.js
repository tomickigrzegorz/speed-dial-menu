!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).SpeedDial=e()}(this,(function(){"use strict";function t(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function e(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function n(n){for(var o=1;o<arguments.length;o++){var r=null!=arguments[o]?arguments[o]:{};o%2?e(Object(r),!0).forEach((function(e){t(n,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):e(Object(r)).forEach((function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(r,t))}))}return n}function o(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],o=!0,r=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(o=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);o=!0);}catch(t){r=!0,i=t}finally{try{o||null==c.return||c.return()}finally{if(r)throw i}}return n}(t,e)||i(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(t){return function(t){if(Array.isArray(t))return a(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||i(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(t,e){if(t){if("string"==typeof t)return a(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(t,e):void 0}}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}return function e(i){var a=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),t(this,"element",(function(t){var e=t.type,n=t.data,r=t.el,i=t.style,a=t.viebox,c=t.url,s=t.target,l=t.path,p="svg"===e?document.createElementNS("http://www.w3.org/2000/svg",e):document.createElement(e);if(n){var d=o(n,2),u=d[0],f=d[1];p.setAttribute("data-".concat(u),f)}if(r&&p.setAttribute("class",r),i&&(p.style=i),c&&(p.href=c,p.rel="noopener"),s&&(p.target=s),a&&p.setAttributeNS(null,"viewBox",a),l)for(var m=function(t){var e=document.createElementNS("http://www.w3.org/2000/svg","path"),n=Array.isArray(l[t])?l[t][t]:l[t];Object.keys(n).map((function(t){e.setAttributeNS(null,t,n[t])})),p.appendChild(e)},h=0;h<l.length;h++)m(h);return p})),t(this,"select",(function(t){return document.querySelector(".".concat(t))})),t(this,"iconBig",(function(t){var e=a.select("speed-dial");e.appendChild(a.element({el:"button-root",type:"button",style:"background-color: ".concat(t.color)})),e.insertAdjacentElement("beforeend",a.element({el:"action",type:"div",data:["direction",a.options.data.direction]})),a.select("button-root").appendChild(a.element({el:"icon icon__plus",type:"svg",viebox:t.viebox,path:t.path}))})),t(this,"topButtons",(function(t){a.select("speed-dial").insertAdjacentElement("afterend",a.element({el:a.options.topBtn,type:"div",data:["position",a.options.data.position]})),a.select(a.options.topBtn).insertAdjacentElement("beforeend",a.element({el:"top-container",type:"div",style:"background-color:".concat(t.color,";")})),a.select("top-container").appendChild(a.element({el:"icon__top",type:"svg",viebox:t.viebox,path:r(t.path)})),a.options.position&&a.handleEvent()})),t(this,"path",(function(t,e){for(var n="",o="",r=function(r){n="background-image:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='".concat(e,"'");var i="";Object.keys(t[r]).map((function(e){var n="fill"===e?t[r][e].replace("#","%23"):t[r][e];i+=" ".concat(e,"='").concat(n,"'")})),o+="%3E%3Cpath ".concat(i,"%3E%3C/path")},i=0;i<t.length;i++)r(i);return"".concat(n).concat(o,"%3E%3C/svg%3E")})),t(this,"iconSmall",(function(t){for(var e=a.select("action"),o=t.sort((function(t,e){return t.id-e.id})),i=a.options.steps*o.length+50,c=0;c<o.length;c++){var s=o[c],l=s.className,p=s.name,d=s.viebox,u=s.url,f=s.path,m=s.target,h=l||"",y=a.element({el:"item ".concat(h),type:"div",style:"transition-delay: ".concat(i,"ms;")}),b={};b=u?{type:"a",url:u,target:m}:{type:"div"};var v=a.element(n({el:"button--small"},b)),g=a.element({type:"div",style:a.path(r(f),d)});v.appendChild(g),g.insertAdjacentHTML("afterend","<span style='".concat(a.tipPosition(a.options.data.position,a.options.data.direction),"'>").concat(p,"</span>")),y.appendChild(v),e.appendChild(y),i-=a.options.steps}})),t(this,"tipPosition",(function(t,e){var n=a.options.sPos,o="left"===t.split("-")[1]?"left":"right";return"top-left"===t||"top-right"===t?"bottom"===e?"".concat(o,": ").concat(n,"px"):"top: ".concat(n,"px"):"top"===e?"".concat(o,": ").concat(n,"px"):"bottom: ".concat(n,"px")})),t(this,"modal",(function(){var t=a.select("speed-dial"),e=document.createElement("div");e.className="speed-dial-modal",t.insertAdjacentElement("afterend",e)})),t(this,"showScrollButton",(function(){var t=a.select("speed-dial"),e=a.options,n=e.position,o=e.topBtn,r=a.select(o),i=window.pageYOffset>n;r.classList[i?"add":"remove"]("show"),t.classList[i?"add":"remove"]("margin-bottom")})),t(this,"handleEvent",(function(){window.addEventListener("scroll",a.showScrollButton),window.addEventListener("load",a.showScrollButton),a.select(a.options.topBtn).addEventListener("click",(function(t){t.preventDefault(),window.scrollTo({top:0,behavior:"smooth"})}))}));var c=n(n({},{sPos:60,steps:50,stepTrans:100,modal:!1,position:null,topBtn:"speed-dial__top"}),i);this.options=c,document.body.insertAdjacentElement("beforeend",this.element({el:"speed-dial",type:"div",data:["position",c.data.position]})),this.iconBig(c.icons.iconBig),this.iconSmall(c.icons.iconsSmall),"bottom-left"!==c.data.position&&"bottom-right"!==c.data.position||this.topButtons(c.icons.iconTop),c.modal&&this.modal()}}));
