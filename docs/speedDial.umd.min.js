!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).SpeedDial=e()}(this,(function(){"use strict";function t(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function e(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function n(n){for(var o=1;o<arguments.length;o++){var i=null!=arguments[o]?arguments[o]:{};o%2?e(Object(i),!0).forEach((function(e){t(n,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):e(Object(i)).forEach((function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(i,t))}))}return n}function o(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],o=!0,i=!1,a=void 0;try{for(var r,l=t[Symbol.iterator]();!(o=(r=l.next()).done)&&(n.push(r.value),!e||n.length!==e);o=!0);}catch(t){i=!0,a=t}finally{try{o||null==l.return||l.return()}finally{if(i)throw a}}return n}(t,e)||a(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(t){return function(t){if(Array.isArray(t))return r(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||a(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(t,e){if(t){if("string"==typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}}function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}var l={sPos:60,steps:50,stepTrans:100,modal:!1,position:null,visibility:!1,data:{position:"bottom-right",direction:"top"},topBtn:"speed-dial__top"};return function e(a){var r=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),t(this,"element",(function(t){var e=t.type,n=t.data,i=t.el,a=t.style,r=t.viebox,l=t.url,s=t.target,c=t.path,p=t.ariaLabel,d="svg"===e?document.createElementNS("http://www.w3.org/2000/svg",e):document.createElement(e);if(n){var u=o(n,2),f=u[0],b=u[1];d.setAttribute("data-".concat(f),b)}if(i&&d.setAttribute("class",i),a&&(d.style=a),l&&(d.href=l,d.rel="noopener"),s&&(d.target=s),p&&d.setAttribute("aria-label",p),r&&d.setAttributeNS(null,"viewBox",r),c)for(var m=function(t){var e=document.createElementNS("http://www.w3.org/2000/svg","path"),n=Array.isArray(c[t])?c[t][t]:c[t];Object.keys(n).map((function(t){e.setAttributeNS(null,t,n[t])})),d.appendChild(e)},h=0;h<c.length;h++)m(h);return d})),t(this,"select",(function(t){return document.querySelector(".".concat(t))})),t(this,"iconBig",(function(t){r.speedDialBox=r.select("speed-dial"),r.speedDialBox.appendChild(r.element({el:"button-root",type:"button",style:"background-color: ".concat(t.color),ariaLabel:t.ariaLabel})),r.speedDialBox.insertAdjacentElement("beforeend",r.element({el:"action",type:"div",data:["direction",r.options.data.direction]})),r.speedDialRoot=r.select("button-root"),r.speedDialRoot.appendChild(r.element({el:"icon icon__plus",type:"svg",viebox:t.viebox,path:t.path}))})),t(this,"topButtons",(function(t){r.select("speed-dial").insertAdjacentElement("afterend",r.element({el:r.options.topBtn,type:"button",data:["position",r.options.data.position],ariaLabel:t.ariaLabel})),r.select(r.options.topBtn).insertAdjacentElement("beforeend",r.element({el:"top-container",type:"div",style:"background-color:".concat(t.color,";")})),r.select("top-container").appendChild(r.element({el:"icon__top",type:"svg",viebox:t.viebox,path:i(t.path)})),r.options.position&&r.handleEvent()})),t(this,"path",(function(t,e){for(var n="",o="",i=function(i){n="background-image:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='".concat(e,"'");var a="";Object.keys(t[i]).map((function(e){var n="fill"===e?t[i][e].replace("#","%23"):t[i][e];a+=" ".concat(e,"='").concat(n,"'")})),o+="%3E%3Cpath ".concat(a,"%3E%3C/path")},a=0;a<t.length;a++)i(a);return"".concat(n).concat(o,"%3E%3C/svg%3E")})),t(this,"iconSmall",(function(t){for(var e=r.select("action"),o=t.sort((function(t,e){return t.id-e.id})),a=r.options.steps*o.length+50,l=0;l<o.length;l++){var s=o[l],c=s.className,p=s.name,d=s.viebox,u=s.url,f=s.path,b=s.target,m=c||"",h=r.element({el:"item ".concat(m),type:"button",ariaLabel:t[l].ariaLabel,style:"transition-delay: ".concat(a,"ms;")}),y=u?{type:"a",url:u,target:b}:{type:"div"},v=r.element(n({el:"button--small"},y)),g=r.element({type:"div",style:r.path(i(f),d)});v.appendChild(g),g.insertAdjacentHTML("afterend","<span style='".concat(r.tipPosition(r.options.data.position,r.options.data.direction),"'>").concat(p,"</span>")),h.appendChild(v),e.appendChild(h),a-=r.options.steps}})),t(this,"tipPosition",(function(t,e){var n=r.options.sPos,o="left"===t.split("-")[1]?"left":"right";return"top-left"===t||"top-right"===t?"bottom"===e?"".concat(o,": ").concat(n,"px"):"top: ".concat(n,"px"):"top"===e?"".concat(o,": ").concat(n,"px"):"bottom: ".concat(n,"px")})),t(this,"modal",(function(){var t=r.select("speed-dial"),e=document.createElement("div");e.className="speed-dial-modal",t.insertAdjacentElement("afterend",e)})),t(this,"showScrollButton",(function(){var t=r.select("speed-dial"),e=r.options,n=e.position,o=e.topBtn,i=r.select(o),a=window.pageYOffset>n;i.classList[a?"add":"remove"]("show"),t.classList[a?"add":"remove"]("margin-bottom")})),t(this,"handleEvent",(function(){window.addEventListener("scroll",r.showScrollButton),window.addEventListener("load",r.showScrollButton),r.select(r.options.topBtn).addEventListener("click",(function(t){t.preventDefault(),window.scrollTo({top:0,behavior:"smooth"})})),r.options.visibility&&(r.speedDialBox.classList.add("speed-dial-active"),r.speedDialRoot.addEventListener("click",(function(){r.speedDialBox.classList.toggle("speed-dial-active")})))}));var s=n(n({},l),a);this.options=s,document.body.insertAdjacentElement("beforeend",this.element({el:"speed-dial",type:"div",data:["position",s.data.position]})),this.iconBig(s.icons.iconBig),this.iconSmall(s.icons.iconsSmall),"bottom-left"!==s.data.position&&"bottom-right"!==s.data.position||this.topButtons(s.icons.iconTop),s.modal&&this.modal()}}));
