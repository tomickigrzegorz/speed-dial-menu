{"version":3,"file":"speed-dial.min.js","sources":["../../sources/js/util/functoins.js","../../sources/js/util/defaults.js","../../sources/js/index.js"],"sourcesContent":["/**\r\n * Creates a modal div\r\n *\r\n * @param {HTMLElement} speedDial\r\n */\r\nconst createModal = (speedDial) => {\r\n  const modal = document.createElement(\"div\");\r\n  modal.className = \"speed-dial__modal\";\r\n  speedDial.insertAdjacentElement(\"afterend\", modal);\r\n};\r\n\r\n/**\r\n * svg element width class and symbol\r\n *\r\n * @param {String} classname\r\n * @param {String} symbol\r\n * @returns SVGElement\r\n */\r\nconst svgUse = (classname, symbol) =>\r\n  `<svg class=\"icon ${classname}\"><use xlink:href=\"#${symbol}\"></use></svg>`;\r\n\r\n/**\r\n * Create style depending on position and direction\r\n *\r\n * @param {String} position\r\n * @param {String} direction\r\n * @param {Object} options\r\n * @returns String\r\n */\r\nconst tipPosition = (position, direction, { sPos }) => {\r\n  const type = position.split(\"-\")[1] === \"left\" ? \"left\" : \"right\";\r\n\r\n  let style;\r\n  if (position === \"top-left\" || position === \"top-right\") {\r\n    style = direction === \"bottom\" ? `${type}: ${sPos}px` : `top: ${sPos}px`;\r\n  } else {\r\n    style = direction === \"top\" ? `${type}: ${sPos}px` : `bottom: ${sPos}px`;\r\n  }\r\n\r\n  return style;\r\n};\r\n\r\n/**\r\n * Create big button\r\n *\r\n * @param {Object} object\r\n * @param {String} root\r\n * @returns HTMLElement\r\n */\r\nconst buttonBig = ({ icons, bgColor }, root) => {\r\n  const button = document.createElement(\"button\");\r\n  button.className = root;\r\n  button.style.fill = icons.iconBig.color || bgColor;\r\n  button.setAttribute(\r\n    \"aria-label\",\r\n    icons.iconBig.ariaLabel || \"show social buttons\"\r\n  );\r\n\r\n  const svgBig = svgUse(\"icon__plus\", icons.iconBig.symbol);\r\n  button.insertAdjacentHTML(\"beforeend\", svgBig);\r\n\r\n  return button;\r\n};\r\n\r\n/**\r\n * Create small button\r\n *\r\n * @param {Object} options\r\n * @returns HTMLElement\r\n */\r\nconst buttonsSmall = (options) => {\r\n  const { data, icons, steps } = options;\r\n\r\n  const container = document.createElement(\"div\");\r\n  container.className = \"speed-dial__action\";\r\n  container.setAttribute(\"data-direction\", data.direction);\r\n\r\n  const elements = icons.iconsSmall;\r\n  const sortIcon = elements.sort((a, b) => a.id - b.id);\r\n  let stepTrans = steps * sortIcon.length + 50;\r\n\r\n  elements.map((element) => {\r\n    const { symbol, className, ariaLabel, target, url } = element;\r\n    const small = document.createElement(\"button\");\r\n    small.classList.add(\"speed-dial__item\", symbol);\r\n    if (ariaLabel) {\r\n      small.ariaLabel = ariaLabel;\r\n    }\r\n    small.style = `transition-delay: ${stepTrans}ms`;\r\n\r\n    let link;\r\n    if (url) {\r\n      link = document.createElement(\"a\");\r\n    } else {\r\n      link = document.createElement(\"div\");\r\n    }\r\n\r\n    link.className = \"speed-dial__button--small\";\r\n    if (className) {\r\n      link.classList.add(className);\r\n    }\r\n\r\n    if (url) {\r\n      link.href = url;\r\n      link.rel = \"noopener\";\r\n    }\r\n    if (target) {\r\n      link.target = target;\r\n    }\r\n\r\n    container.appendChild(small);\r\n\r\n    const smallIcon = svgUse(\"icon__small\", symbol);\r\n    link.insertAdjacentHTML(\"beforeend\", smallIcon);\r\n\r\n    if (element.tooltipText) {\r\n      const span = document.createElement(\"span\");\r\n      span.textContent = element.tooltipText;\r\n      span.style = tipPosition(data.position, data.direction, options);\r\n\r\n      link.insertAdjacentElement(\"beforeend\", span);\r\n    }\r\n\r\n    small.appendChild(link);\r\n\r\n    stepTrans -= steps;\r\n  });\r\n\r\n  return container;\r\n};\r\nexport { createModal, svgUse, buttonBig, buttonsSmall };\r\n","export default {\r\n  sPos: 60,\r\n  steps: 50,\r\n  stepTrans: 100,\r\n  modal: false,\r\n  position: null,\r\n  showTopBtn: true,\r\n  visibility: false,\r\n  data: {\r\n    position: \"bottom-right\",\r\n    direction: \"top\",\r\n  },\r\n  bgColor: \"#cacaca\",\r\n  topBtn: \".speed-dial__top\",\r\n};\r\n","import { createModal, svgUse, buttonBig, buttonsSmall } from \"./util/functoins\";\r\nimport defaultOptions from \"./util/defaults\";\r\n\r\nexport default class SpeedDial {\r\n  /**\r\n   * constructor\r\n   * @param {Object} config\r\n   */\r\n  constructor(config) {\r\n    this.top = \"speed-dial__top-container\";\r\n\r\n    const options = { ...defaultOptions, ...config };\r\n    const root = \"speed-dial__button-root\";\r\n    const active = \"speed-dial__active\";\r\n\r\n    const speed = document.createElement(\"div\");\r\n    speed.setAttribute(\"data-position\", options.data.position);\r\n    speed.className = \"speed-dial\";\r\n\r\n    document.body.insertAdjacentElement(\"beforeend\", speed);\r\n\r\n    this.options = options;\r\n    this.speedDial = speed;\r\n\r\n    this.initial(options, speed, active, root);\r\n\r\n    if (!options.showTopBtn) return;\r\n    if (options.position) {\r\n      [\"scroll\", \"load\"].map((type) => {\r\n        window.addEventListener(type, this.showScrollButton);\r\n      });\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Initialize speed dial\r\n   * @param {Object} options\r\n   * @param {HTMLElement} speed\r\n   * @param {String} active\r\n   * @param {String} root\r\n   */\r\n  initial = (options, speed, active, root) => {\r\n    const { modal, visibility } = options;\r\n    speed.appendChild(buttonBig(options, root));\r\n    speed.appendChild(buttonsSmall(options));\r\n\r\n    if (options.showTopBtn) {\r\n      speed.insertAdjacentElement(\"afterend\", this.buttonTop(options));\r\n    }\r\n\r\n    if (modal) {\r\n      createModal(speed);\r\n    }\r\n\r\n    if (visibility) {\r\n      speed.classList.add(active);\r\n\r\n      speed.addEventListener(\"click\", (event) => {\r\n        if (event.target.className !== root) return;\r\n        speed.classList.toggle(active);\r\n      });\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Create button to scroll to top\r\n   *\r\n   * @param {Object} options\r\n   * @returns HTMLElement\r\n   */\r\n  buttonTop = (options) => {\r\n    const { data, icons, bgColor } = options;\r\n    const buttonTop = document.createElement(\"button\");\r\n    buttonTop.classList.add(\"speed-dial__top\");\r\n    buttonTop.setAttribute(\"data-position\", data.position);\r\n    buttonTop.ariaLabel = icons.iconTop.ariaLabel || \"scroll to top\";\r\n\r\n    const divEl = document.createElement(\"div\");\r\n    divEl.className = this.top;\r\n    divEl.style = `background-color:${icons.iconTop.color || bgColor};`;\r\n\r\n    const topIcon = svgUse(\"icon__top\", icons.iconTop.symbol);\r\n    divEl.insertAdjacentHTML(\"beforeend\", topIcon);\r\n\r\n    buttonTop.appendChild(divEl);\r\n\r\n    buttonTop.addEventListener(\"click\", this.handleEvent);\r\n\r\n    return buttonTop;\r\n  };\r\n\r\n  /**\r\n   * Show button to scroll to top\r\n   */\r\n  showScrollButton = () => {\r\n    const { data, position, topBtn } = this.options;\r\n    const buttonTop = document.querySelector(topBtn);\r\n    const scrollCheck = window.pageYOffset > position ? true : false;\r\n\r\n    if (data.position == \"top-right\" || data.position == \"top-left\") return;\r\n    buttonTop?.classList[scrollCheck ? \"add\" : \"remove\"](\"speed-dial__show\");\r\n    this.speedDial.classList[scrollCheck ? \"add\" : \"remove\"](\"margin-bottom\");\r\n  };\r\n\r\n  /**\r\n   * Event handler\r\n   * @param {Event} event\r\n   */\r\n  handleEvent = (event) => {\r\n    event.stopPropagation();\r\n    const button = event.target;\r\n    if (button.className !== this.top) return;\r\n    window.scrollTo({\r\n      top: 0,\r\n      behavior: \"smooth\",\r\n    });\r\n  };\r\n}\r\n"],"names":["svgUse","classname","symbol","sPos","steps","stepTrans","modal","position","showTopBtn","visibility","data","direction","bgColor","topBtn","constructor","config","initial","options","speed","active","root","appendChild","icons","button","document","createElement","className","style","fill","iconBig","color","setAttribute","ariaLabel","svgBig","insertAdjacentHTML","buttonBig","container","elements","iconsSmall","sortIcon","sort","a","b","id","length","map","element","target","url","small","link","classList","add","href","rel","smallIcon","tooltipText","span","textContent","type","split","tipPosition","insertAdjacentElement","buttonsSmall","this","buttonTop","speedDial","createModal","addEventListener","event","toggle","iconTop","divEl","top","topIcon","handleEvent","showScrollButton","querySelector","scrollCheck","window","pageYOffset","stopPropagation","scrollTo","behavior","defaultOptions","body"],"mappings":"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"}