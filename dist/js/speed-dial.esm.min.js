const t=(t,e)=>'<svg class="icon '+t+'"><use xlink:href="#'+e+'"></use></svg>';var e={sPos:60,steps:50,stepTrans:100,modal:!1,position:null,showTopBtn:!0,visibility:!1,data:{position:"bottom-right",direction:"top"},bgColor:"#cacaca",topBtn:".speed-dial__top"};class o{constructor(o){this.initial=(e,o,s,i)=>{const{modal:n,visibility:a}=e;o.appendChild(((e,o)=>{let{icons:s,bgColor:i}=e;const n=document.createElement("button");n.className=o,n.style.fill=s.iconBig.color||i,n.setAttribute("aria-label",s.iconBig.ariaLabel||"show social buttons");const a=t("icon__plus",s.iconBig.symbol);return n.insertAdjacentHTML("beforeend",a),n})(e,i)),o.appendChild((e=>{const{data:o,icons:s,steps:i}=e,n=document.createElement("div");n.className="speed-dial__action",n.setAttribute("data-direction",o.direction);const a=s.iconsSmall,l=a.sort(((t,e)=>t.id-e.id));let d=i*l.length+50;return a.map((s=>{const{symbol:a,className:l,ariaLabel:c,target:r,url:p}=s,m=document.createElement("button");let u;m.classList.add("speed-dial__item",a),c&&(m.ariaLabel=c),m.style="transition-delay: "+d+"ms",u=p?document.createElement("a"):document.createElement("div"),u.className="speed-dial__button--small",l&&u.classList.add(l),p&&(u.href=p,u.rel="noopener"),r&&(u.target=r),n.appendChild(m);const b=t("icon__small",a);if(u.insertAdjacentHTML("beforeend",b),s.tooltipText){const t=document.createElement("span");t.textContent=s.tooltipText,t.style=((t,e,o)=>{let{sPos:s}=o;const i="left"===t.split("-")[1]?"left":"right";let n;return n="top-left"===t||"top-right"===t?"bottom"===e?i+": "+s+"px":"top: "+s+"px":"top"===e?i+": "+s+"px":"bottom: "+s+"px",n})(o.position,o.direction,e),u.insertAdjacentElement("beforeend",t)}m.appendChild(u),d-=i})),n})(e)),e.showTopBtn&&o.insertAdjacentElement("afterend",this.buttonTop(e)),n&&(t=>{const e=document.createElement("div");e.className="speed-dial__modal",t.insertAdjacentElement("afterend",e)})(o),a&&(o.classList.add(s),o.addEventListener("click",(t=>{t.target.className===i&&o.classList.toggle(s)})))},this.buttonTop=e=>{const{data:o,icons:s,bgColor:i}=e,n=document.createElement("button");n.classList.add("speed-dial__top"),n.setAttribute("data-position",o.position),n.ariaLabel=s.iconTop.ariaLabel||"scroll to top";const a=document.createElement("div");a.className=this.top,a.style="background-color:"+(s.iconTop.color||i)+";";const l=t("icon__top",s.iconTop.symbol);return a.insertAdjacentHTML("beforeend",l),n.appendChild(a),n.addEventListener("click",this.handleEvent),n},this.showScrollButton=()=>{const{data:t,position:e,topBtn:o}=this.options,s=document.querySelector(o),i=window.pageYOffset>e;"top-right"!=t.position&&"top-left"!=t.position&&(null==s||s.classList[i?"add":"remove"]("speed-dial__show"),this.speedDial.classList[i?"add":"remove"]("margin-bottom"))},this.handleEvent=t=>{t.stopPropagation();t.target.className===this.top&&window.scrollTo({top:0,behavior:"smooth"})},this.top="speed-dial__top-container";const s={...e,...o},i=document.createElement("div");i.setAttribute("data-position",s.data.position),i.className="speed-dial",document.body.insertAdjacentElement("beforeend",i),this.options=s,this.speedDial=i,this.initial(s,i,"speed-dial__active","speed-dial__button-root"),s.showTopBtn&&s.position&&["scroll","load"].map((t=>{window.addEventListener(t,this.showScrollButton)}))}}export{o as default};
